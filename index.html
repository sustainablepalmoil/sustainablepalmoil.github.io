<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palm Eco Alliance</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <style>
        .hero-logo {
            display: block;
            margin: 20px auto;
            max-width: 60%;
            height: auto;
        }
    </style>
    <!-- Add performance meta tags -->
    <meta http-equiv="x-dns-prefetch-control" content="on">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Preload critical CSS -->
    <link rel="preload" href="style.css" as="style">
    
    <!-- Defer non-critical CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif:wght@400;500;600;700&display=swap" media="print" onload="this.media='all'">
</head>
<body>

<!-- Header Section -->
<header>
  
    <div class="header-container">
        <!-- Logo with link to homepage -->
        <a href="index.html">
            <img src="palm-eco-logo.png" alt="PalmEco Logo" class="logo">
        </a>
        
        <div class="menu-container">
            <!-- Menu Button -->
            <button class="menu-button">
                <svg viewBox="0 0 48 48">
                    <path fill="white" d="M6 12h36v4H6v-4zm0 10h36v4H6v-4zm0 10h36v4H6v-4z" />
                </svg>
            </button>
            <div class="dropdown" id="dropdown">
                <a href="index.html">Home</a>
                <a href="about.html">About Us</a>
                <a href="certification.html">EcoSawit+ Certification</a>
                <a href="membership.html">Membership Benefits</a>
                <a href="programmes.html">Our Programmes</a>
                <a href="join.html">Join Us</a>
                <a href="contact.html">Contact Us</a>
            </div>
        </div>
    </div>
</header>

<section id="hero-content">
    <div class="content-wrapper">
        <h1 class="animate-text">Welcome to the Future of Palm Oil Farming</h1>
        <p class="animate-text delay-1"><strong>Empower Your Farm. Trade Sustainably. Secure Your Future.</strong></p>
        <p class="animate-text delay-2">As a member of the Palm Eco Alliance you comply with the EU Deforestation Regulation (EUDR), access global markets, and achieve better prices for your sustainably produced palm oil.</p>
        <a href="join.html" class="cta-button animate-text delay-3">Become a Member Now</a>
        
        <!-- Move carousel inside content-wrapper -->
        <div class="carousel-container animate-text delay-3">
            <div class="carousel-track">
                <div class="carousel-card clickable" onclick="window.location.href='about.html'">
                    <div class="card-image-container">
                        <img src="small-palm-eco.png" alt="Palm Eco Alliance" class="card-image" loading="lazy">
                    </div>
                    <h3>Find out about Palm Eco Alliance</h3>
                    <p>and how to benefit from the EUDR?</p>
                </div>
                
                <div class="carousel-card clickable" onclick="window.location.href='certification.html'">
                    <div class="card-image-container">
                        <img src="cert-pic.png" alt="EcoSawit+ Certification" class="card-image" loading="lazy">
                    </div>
                    <h3>EcoSawit+ Certification</h3>
                    <p>Our gold standard in sustainable palm oil</p>
                </div>
                
                <div class="carousel-card clickable" onclick="window.location.href='membership.html'">
                    <div class="card-image-container">
                        <img src="membership-pic.png" alt="Membership Benefits" class="card-image" loading="lazy">
                    </div>
                    <h3>Membership Benefits</h3>
                    <p>Exclusive access to premium markets</p>
                </div>
                
                <div class="carousel-card clickable" onclick="window.location.href='community-essentials.html'">
                    <div class="card-image-container">
                        <img src="community-pic.png" alt="Community Essentials Support" class="card-image" loading="lazy">
                    </div>
                    <h3>Community Essentials Support</h3>
                    <p>Supporting local communities</p>
                </div>
                
                <div class="carousel-card clickable" onclick="window.location.href='programmes.html'">
                    <div class="card-image-container">
                        <img src="programmes-pic.png" alt="Palm Eco Alliance Programmes" class="card-image" loading="lazy">
                    </div>
                    <h3>Palm Eco Alliance Programmes</h3>
                    <p>Explore our initiatives</p>
                </div>
            </div>
            
            <button class="carousel-button prev">&lt;</button>
            <button class="carousel-button next">&gt;</button>
        </div>
    </div>
</section>

<!-- Footer Section -->
<footer>
    <p>&copy; 2025 Palm Eco Alliance. All rights reserved.</p>
</footer>

<!-- JavaScript -->
<script>
    window.onload = function() {
        console.log('Window loaded');
        var menuButton = document.querySelector('.menu-button');
        var dropdown = document.getElementById('dropdown');
        
        console.log('Initial elements:', { menuButton, dropdown });
        
        function toggleMenu(e) {
            console.log('Toggle menu called');
            e.preventDefault();
            e.stopPropagation();
            if (dropdown.classList.contains('active')) {
                console.log('Closing menu');
                dropdown.classList.remove('active');
            } else {
                console.log('Opening menu');
                dropdown.classList.add('active');
            }
        }

        if (menuButton) {
            console.log('Adding click listener to menu button');
            menuButton.onclick = toggleMenu;
        }

        // Close menu when clicking outside
        document.onclick = function(e) {
            if (!dropdown.contains(e.target) && !menuButton.contains(e.target)) {
                dropdown.classList.remove('active');
            }
        };

        // Close menu on escape key
        document.onkeydown = function(e) {
            if (e.key === 'Escape') {
                dropdown.classList.remove('active');
            }
        };
    };
</script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const track = document.querySelector('.carousel-track');
        const cards = document.querySelectorAll('.carousel-card');
        const prevButton = document.querySelector('.carousel-button.prev');
        const nextButton = document.querySelector('.carousel-button.next');
        
        // Clone multiple cards at both ends to ensure smooth looping
        const firstCards = Array.from(cards).slice(0, 3).map(card => card.cloneNode(true));
        const lastCards = Array.from(cards).slice(-3).map(card => card.cloneNode(true));
        
        // Add cloned cards to both ends
        lastCards.forEach(card => track.insertBefore(card, cards[0]));
        firstCards.forEach(card => track.appendChild(card));
        
        let currentIndex = 3;  // Start at index 3 (after the cloned cards)
        const cardWidth = cards[0].offsetWidth + 20; // card width + gap
        const totalCards = cards.length;
        
        // Initial position
        track.style.transform = `translateX(-${currentIndex * cardWidth}px)`;
        
        const TRANSITION_TIME = 1000;
        
        function updateCarousel(smooth = true) {
            if (!smooth) {
                track.style.transition = 'none';
            } else {
                track.style.transition = `transform ${TRANSITION_TIME}ms ease`;
            }
            track.style.transform = `translateX(-${currentIndex * cardWidth}px)`;
        }
        
        function nextSlide() {
            currentIndex++;
            updateCarousel();
            
            if (currentIndex >= totalCards + 3) {
                setTimeout(() => {
                    currentIndex = 3;
                    updateCarousel(false);
                }, TRANSITION_TIME);
            }
        }
        
        function prevSlide() {
            currentIndex--;
            updateCarousel();
            
            if (currentIndex <= 2) {
                setTimeout(() => {
                    currentIndex = totalCards + 2;
                    updateCarousel(false);
                }, TRANSITION_TIME);
            }
        }
        
        let autoScrollInterval;
        let resumeTimeout;
        const AUTOSCROLL_DELAY = 2000; // 2 second delay before resuming
        
        function startAutoScroll() {
            autoScrollInterval = setInterval(nextSlide, 8000);
        }
        
        function stopAutoScroll() {
            clearInterval(autoScrollInterval);
            // Also clear any pending resume
            if (resumeTimeout) {
                clearTimeout(resumeTimeout);
            }
        }
        
        function scheduleAutoScroll() {
            // Clear any existing timeouts
            if (resumeTimeout) {
                clearTimeout(resumeTimeout);
            }
            // Set new timeout to resume auto-scroll
            resumeTimeout = setTimeout(() => {
                // Only resume if not currently being hovered
                if (!track.matches(':hover')) {
                    startAutoScroll();
                }
            }, AUTOSCROLL_DELAY);
        }
        
        // Start initial auto-scroll
        startAutoScroll();
        
        // Pause on hover
        track.addEventListener('mouseenter', () => {
            stopAutoScroll();
        });
        
        track.addEventListener('mouseleave', () => {
            scheduleAutoScroll();
        });
        
        // Button handlers with delayed resume
        prevButton.addEventListener('click', () => {
            stopAutoScroll();
            prevSlide();
            scheduleAutoScroll();
        });
        
        nextButton.addEventListener('click', () => {
            stopAutoScroll();
            nextSlide();
            scheduleAutoScroll();
        });
        
        // Handle window resize
        window.addEventListener('resize', () => {
            cardWidth = cards[0].offsetWidth + 20;
            updateCarousel(false);
        });
    });
</script>

<!-- Preload critical images -->
<link rel="preload" as="image" href="palm-eco-logo.png">
<link rel="preload" as="image" href="index-background.png">
</body>
</html>
